import{r as t,j as e,B as l,T as s,P as m,m as d}from"./index-D1WZwRG5.js";import{A as g}from"./Alert-C2uN4Clt.js";import{C as j,a as u}from"./CardContent-C09eNwcx.js";import{S as n}from"./Stack-BDxuP9_X.js";import{C}from"./Chip-BcfuiGLT.js";import{B as f}from"./Button-BhZ-lD3l.js";const b={power_bi:"Power BI",google_sheets:"Google Sheets",api:"Public API"},v=()=>{const[a,r]=t.useState(null),[x,p]=t.useState([]),c=async()=>{try{const o=await d.biConnectors.list();p(o.data||[])}catch(o){r(o instanceof Error?o.message:"Erro ao carregar conectores")}};t.useEffect(()=>{c()},[]);const h=async o=>{try{r(null),await d.biConnectors.toggle(o),await c()}catch(i){r(i instanceof Error?i.message:"Erro ao atualizar conector")}};return e.jsxs(l,{sx:{p:3},children:[e.jsx(s,{variant:"h4",sx:{fontWeight:700,mb:.5},children:"BI Connectors"}),e.jsx(s,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Conectores para Power BI, Google Sheets e API (modo stub/mock)."}),a&&e.jsx(g,{severity:"error",sx:{mb:2},onClose:()=>r(null),children:a}),e.jsx(j,{children:e.jsx(u,{children:e.jsx(n,{spacing:1,children:x.map(o=>e.jsx(m,{variant:"outlined",sx:{p:1.2},children:e.jsxs(n,{direction:"row",justifyContent:"space-between",alignItems:"center",spacing:1.5,children:[e.jsxs(l,{children:[e.jsx(s,{variant:"body2",sx:{fontWeight:700},children:b[o.connector]}),e.jsx(s,{variant:"caption",color:"text.secondary",children:o.details||"Sem detalhes"})]}),e.jsxs(n,{direction:"row",spacing:1,alignItems:"center",children:[e.jsx(C,{size:"small",label:o.connected?"Conectado":"Desconectado",color:o.connected?"success":"default"}),e.jsx(f,{size:"small",variant:"outlined",onClick:()=>h(o.connector),children:o.connected?"Desconectar":"Conectar"})]})]})},o.connector))})})})]})};export{v as default};
