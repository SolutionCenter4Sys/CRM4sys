import{u as C,r,j as s,B as a,T as o,b as y,R as b,U as g,C as v,m as w}from"./index-D1WZwRG5.js";import{G as m}from"./Grid-DMeR_RpR.js";import{C as I,a as S}from"./CardContent-C09eNwcx.js";import{C as i}from"./Chip-BcfuiGLT.js";const E=()=>{const u=C(),[n,p]=r.useState([]),[h,d]=r.useState(!0),[l,f]=r.useState("");r.useEffect(()=>{(async()=>{d(!0);const t=await w.accounts.list();p(t.data||[]),d(!1)})()},[]);const j=r.useMemo(()=>{const e=l.trim().toLowerCase();return e?n.filter(t=>{var c,x;return t.name.toLowerCase().includes(e)||((c=t.domain)==null?void 0:c.toLowerCase().includes(e))||((x=t.industry)==null?void 0:x.toLowerCase().includes(e))}):n},[n,l]);return s.jsxs(a,{sx:{p:3},children:[s.jsx(o,{variant:"h4",sx:{fontWeight:700,mb:.5},children:"ðŸ¢ Contas"}),s.jsx(o,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"VisÃ£o de contas com fit de ICP e cobertura comercial."}),s.jsx(y,{fullWidth:!0,placeholder:"Buscar por nome, domÃ­nio ou indÃºstria...",value:l,onChange:e=>f(e.target.value),sx:{mb:3},InputProps:{startAdornment:s.jsx(b,{position:"start",children:s.jsx(g,{color:"action"})})}}),h?s.jsx(a,{sx:{display:"flex",justifyContent:"center",py:8},children:s.jsx(v,{})}):s.jsx(m,{container:!0,spacing:2,children:j.map(e=>s.jsx(m,{item:!0,xs:12,md:6,children:s.jsx(I,{onClick:()=>u(`/accounts/${e.id}`),sx:{cursor:"pointer",height:"100%"},children:s.jsxs(S,{children:[s.jsxs(a,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[s.jsx(o,{variant:"h6",sx:{fontWeight:700},children:e.name}),s.jsx(i,{label:e.tier,color:e.tier==="Enterprise"?"primary":"default",size:"small"})]}),s.jsxs(o,{variant:"body2",color:"text.secondary",sx:{mb:1.5},children:[e.industry||"IndÃºstria nÃ£o informada"," â€¢ ",e.domain]}),s.jsxs(a,{sx:{display:"flex",gap:1,flexWrap:"wrap"},children:[s.jsx(i,{size:"small",label:`ICP ${e.icpScore}`,color:e.icpScore>=80?"success":"default",variant:"outlined"}),s.jsx(i,{size:"small",label:`${e.contactCount||0} contatos`,variant:"outlined"}),s.jsx(i,{size:"small",label:`${e.openDealsCount||0} deals abertos`,variant:"outlined"})]})]})})},e.id))})]})};export{E as AccountsListPage,E as default};
