import{Z as b,u as g,r as o,j as s,B as n,C as v,T as t,D as B,m as h}from"./index-D1WZwRG5.js";import{B as d}from"./Button-BhZ-lD3l.js";import{A as I}from"./ArrowBack-ChqsaD63.js";import{C as m,a as u}from"./CardContent-C09eNwcx.js";import{C as A}from"./Chip-BcfuiGLT.js";import{G as x}from"./Grid-DMeR_RpR.js";const E=()=>{const{id:r}=b(),i=g(),[p,j]=o.useState(!0),[a,y]=o.useState(null),[c,f]=o.useState([]);return o.useEffect(()=>{(async()=>{if(!r)return;j(!0);const[l,C]=await Promise.all([h.accounts.getById(r),h.contacts.listByAccount(r)]);y(l.data||null),f(C.data||[]),j(!1)})()},[r]),p?s.jsx(n,{sx:{display:"flex",justifyContent:"center",py:8},children:s.jsx(v,{})}):a?s.jsxs(n,{sx:{p:3},children:[s.jsx(d,{startIcon:s.jsx(I,{}),onClick:()=>i("/accounts"),sx:{mb:2},children:"Voltar para Contas"}),s.jsx(m,{sx:{mb:3},children:s.jsxs(u,{children:[s.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:2},children:[s.jsxs(n,{children:[s.jsx(t,{variant:"h4",sx:{fontWeight:700},children:a.name}),s.jsx(t,{variant:"body2",color:"text.secondary",children:a.legalName||"Razão social não informada"})]}),s.jsx(A,{label:a.tier,color:"primary"})]}),s.jsxs(x,{container:!0,spacing:2,children:[s.jsxs(x,{item:!0,xs:12,md:6,children:[s.jsxs(t,{variant:"body2",children:["CNPJ: ",a.cnpj||"—"]}),s.jsxs(t,{variant:"body2",children:["Domínio: ",a.domain||"—"]}),s.jsxs(t,{variant:"body2",children:["Website: ",a.website||"—"]})]}),s.jsxs(x,{item:!0,xs:12,md:6,children:[s.jsxs(t,{variant:"body2",children:["Indústria: ",a.industry||"—"]}),s.jsxs(t,{variant:"body2",children:["Funcionários: ",a.numberOfEmployees||"—"]}),s.jsxs(t,{variant:"body2",children:["ICP Score: ",a.icpScore]})]})]})]})}),s.jsx(t,{variant:"h6",sx:{mb:1.5},children:"Contatos da Conta"}),s.jsx(m,{children:s.jsx(u,{children:c.length===0?s.jsx(t,{variant:"body2",color:"text.secondary",children:"Nenhum contato associado."}):c.map((e,l)=>s.jsxs(n,{children:[s.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",py:1},children:[s.jsxs(n,{children:[s.jsx(t,{variant:"body1",sx:{fontWeight:600},children:e.fullName}),s.jsx(t,{variant:"caption",color:"text.secondary",children:e.jobTitle||"Cargo não informado"})]}),s.jsx(d,{size:"small",onClick:()=>i(`/contacts/${e.id}`),children:"Ver contato"})]}),l<c.length-1&&s.jsx(B,{})]},e.id))})})]}):s.jsxs(n,{sx:{p:3},children:[s.jsx(t,{variant:"h6",children:"Conta não encontrada."}),s.jsx(d,{onClick:()=>i("/accounts"),sx:{mt:2},children:"Voltar"})]})};export{E as AccountDetailPage,E as default};
